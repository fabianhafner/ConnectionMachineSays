<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Connection Machine Says</title>
    </head>
    <body>
		<dialog id="machineActivePopup">
			<table class="dialogTable">
				<tr>
					<td>Please look at the <b>Connection Machine</b>.</td>
				</tr>
			</table>
		</dialog>
		<dialog id="helpAboutPopup" onclick="closeHelp();">
			<!-- <div class="closeX" onclick="closeHelp();">X</div> -->
			<div class="helpText">
				<p>This game can be used with the <b>Connection Machine.</b></p>
				<p>To do this, just connect to the <b>Bluetooth</b> device called <b>ledpi-teco</b> and (re)start the app.</p>
				<p>If successful, the <b>connection indicators</b> in the header bar will turn <green>green</green> and the <red>Offline Mode</red> text will disappear.</p>
				<p>Pressed buttons will now be displayed on the screens of the <b>Connection Machine</b>.</p>
				<hr>
				<p>Developed for the lecture <b>Mobile Computing and Internet of Things</b> at <b>KIT</b> during WS 15/16</p>
				<p>Uses the <b>BluetoothSerial</b> plug-in for Phonegap</p>
				<p>Fabian Hafner, 2016</p>
			</div>
		</dialog>
        <header class="header">
            <h1 class=header__title>Connection Machine Says</h1>
            <h1 class=header__title__small>CM Says</h1>
			<span class=header__mode id="mode">Offline Mode</span>
			<span class=header__mode__small id="mode_small">Offline</span>
            <div id="status" class="blink">
                <p class="event listening">Preparing Device</p>
                <p class="event received">Device Ready</p>
				<p class="bluetooth waiting">Waiting for Device</p>
				<p class="bluetooth searching">Searching ledpi-teco</p>
				<p class="bluetooth connecting">Connecting to ledpi-teco</p>
				<p class="bluetooth ready">Connected</p>
				<p class="bluetooth noPi">ledpi-teco not found.</p>
				<p class="bluetooth noList">Detection of bonded devices failed.</p>
				<p class="bluetooth noConnection">Can't connect to ledpi-teco.</p>
            </div>
        </header>
		<div class="gameWrapper">
			<table class="gameBoard">
				<tr>
					<td><input id="button1" class="gameButton" type="button" value="1" onclick="registerClick(1);"/></td>
					<td><input id="button2" class="gameButton" type="button" value="2" onclick="registerClick(2);"/></td>
				</tr>
				<tr>
					<td><input id="button3" class="gameButton" type="button" value="3" onclick="registerClick(3);"/></td>
					<td><input id="button4" class="gameButton" type="button" value="4" onclick="registerClick(4);"/></td>
				</tr>
			</table>
			<br>
			<div class="controls">
				<input id="startStatus" class="startStatusButton" type="button" value="Start" onclick="startGame();"/><br>
				<input id="help" class="helpButton" type="button" value="About/Help" onclick="showHelp();"/><br>
			</div>
			<br>
			<div class="scorePanel">
				<span class="scoreLeft"> <span id="highscoreText">Highscore: </span> <span id="highscoreScore">0</span> </span>
				<span class="scoreRight"> <span id="scoreText">Current round:  </span><span id="scoreScore">0</span> </span>
			</div>
		</div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            initialize();
        </script>
    </body>
</html>
